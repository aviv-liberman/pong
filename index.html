<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no, minimum-scale=1, maximum-scale=1"
    />
    <title>PONG — Classic. Faster. Neon.</title>

    <style>
      :root {
        --bg: #0b0b14;
        --text: #dfe6f9;
        --muted: #9aa3ba;
        --neon-a: #00f0ff;
        --neon-b: #ff00f5;
      }
      * { box-sizing: border-box; }
      html, body {
        height: 100%;
        margin: 0;
        background: radial-gradient(1000px 800px at 50% 50%, rgba(0,240,255,0.1), transparent 60%), var(--bg);
        color: var(--text);
        font-family: Inter, Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      h1 {
        font-size: clamp(40px, 6vw, 70px);
        margin: 0 0 10px;
        background: linear-gradient(90deg, var(--neon-a), var(--neon-b));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 0 20px rgba(0,240,255,0.15);
      }
      p {
        color: var(--muted);
        margin-bottom: 30px;
        font-size: 1rem;
      }
      #stage {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
        border-radius: 18px;
        overflow: hidden;
        background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
        box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        padding-bottom: 10px;
      }
      #loadingCanvas, #canvas {
        display: block;
        background: #000;
      }
      #canvas { visibility: hidden; }
      footer {
        font-size: 13px;
        margin-top: 20px;
        color: var(--muted);
      }
      footer a {
        color: var(--neon-a);
        text-decoration: none;
      }
      .instructions {
        font-size: 14px;
        color: var(--muted);
        margin-top: 14px;
        background: rgba(255,255,255,0.03);
        padding: 8px 14px;
        border-radius: 12px;
        border: 1px solid rgba(255,255,255,0.05);
        box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
      }
    </style>
  </head>
  <body>
    <h1>PONG</h1>
    <div id="stage">
      <canvas id="loadingCanvas" width="800" height="600"></canvas>
      <canvas id="canvas"></canvas>
    </div>

    <div class="instructions">
      W / S vs ↑ / ↓ &nbsp; | &nbsp; P: Pause &nbsp; | &nbsp; R: Reset &nbsp; | &nbsp; A: Toggle AI &nbsp; | &nbsp; Esc: Quit
    </div>

    <footer>
      Built with <a href="https://github.com/Davidobot/love.js" target="_blank">love.js</a>
    </footer>

    <script>
      window.Module = window.Module || {};
      (function(cfg){
        cfg.arguments = cfg.arguments || ["./"];
        cfg.INITIAL_MEMORY = cfg.INITIAL_MEMORY || 16777216;
        cfg.printErr = console.error.bind(console);
        cfg.canvas = cfg.canvas || (function() {
          const canvas = document.getElementById('canvas');
          canvas.addEventListener("webglcontextlost", e => {
            alert('WebGL context lost. Reload the page.');
            e.preventDefault();
          });
          return canvas;
        })();
        cfg.setStatus = function(text) {
          const status = document.getElementById('status');
          if (status && text) status.textContent = text;
          if (text) drawLoadingText(text);
          else if ((cfg.remainingDependencies|0) === 0) {
            document.getElementById('loadingCanvas').style.display = 'none';
            document.getElementById('canvas').style.visibility = 'visible';
          }
        };
        cfg.totalDependencies = cfg.totalDependencies || 0;
        cfg.remainingDependencies = cfg.remainingDependencies || 0;
        cfg.monitorRunDependencies = function(left) {
          this.remainingDependencies = left;
          this.totalDependencies = Math.max(this.totalDependencies, left);
          cfg.setStatus(left
            ? `Preparing… (${this.totalDependencies-left}/${this.totalDependencies})`
            : 'All downloads complete.');
        };
      })(window.Module);

      const loadingContext = document.getElementById('loadingCanvas').getContext('2d');
      function drawLoadingText(text) {
        const c = loadingContext.canvas;
        loadingContext.fillStyle = "#0b0b14";
        loadingContext.fillRect(0,0,c.width,c.height);
        loadingContext.font = 'bold 38px Arial';
        loadingContext.textAlign = 'center';
        loadingContext.fillStyle = "#fff";
        loadingContext.shadowColor = "rgba(0,240,255,0.7)";
        loadingContext.shadowBlur = 10;
        loadingContext.fillText(text, c.width/2, c.height/2);
      }

      window.onerror = function() {
        window.Module.setStatus('Exception thrown, see console');
        window.Module.setStatus = t => t && window.Module.printErr('[post-exception] ' + t);
      };

      function applicationLoad() { Love(window.Module); }
      window.__loveAppLoad = applicationLoad;
    </script>

    <script src="game.js"></script>
    <script async src="love.js" onload="window.__loveAppLoad()"></script>
  </body>
</html>
